<!--
種別: modules | flows | decisions | usecase_mapping
対象: {モジュール名 / フロー名 / 判断内容 / 機能名}
作成日: YYYY-MM-DD
更新日: YYYY-MM-DD
担当: {作成者 / AIエージェント}
-->

# {タイトル}

## 概要

{このドキュメントが対象とする範囲を1-3文で記述する}

**スコープ**:
- {対象範囲1}
- {対象範囲2}

**対象外**:
- {スコープ外の事項}

---

## 責務と境界

**責務**:
- {このモジュールが担う機能}

**境界**:
- {このモジュールが担わない機能・隣接モジュールとの分担}

**入力**: {何を受け取るか}
**出力**: {何を返すか / 何を生成するか}

**依存先**:
| 依存先 | 用途 |
|--------|------|
| `{Module}` | {どのような目的で依存しているか} |

**被依存**:
| 呼び出し元 | 用途 |
|------------|------|
| `{Caller}` | {どのような目的で呼び出されるか} |

---

## 公開API

### 構造体 / クラス

```swift
// Sources/CB/{Module}.swift
struct {StructName} {
    // フィールドの説明
}
```

**用途**: {この構造体の役割}

### プロトコル

```swift
// Sources/CB/{Module}.swift
protocol {ProtocolName} {
    func method() -> Result<T, Error>
}
```

### 関数

| 関数 | シグネチャ | 説明 |
|------|-----------|------|
| `{functionName}()` | `func(args) -> T` | {簡潔な説明} |

---

## 内部設計

### 主要コンポーネント

{モジュール内部の構成要素と役割}

### 依存グラフ

```mermaid
graph LR
    A[{コンポーネントA}] --> B[{コンポーネントB}]
```

---

## データ構造

```swift
// {ソースファイルパス}
{データ構造の定義}
```

| プロパティ | 型 | 説明 |
|----------|---|------|
| `{プロパティ名}` | `{型}` | {説明} |

---

## アルゴリズム

### {アルゴリズム名}

**入力**: {入力の説明}
**出力**: {出力の説明}

**手順**:
1. {ステップ1}
2. {ステップ2}

**計算量**: {時間計算量 / 空間計算量}

---

## 処理フロー

```mermaid
flowchart TD
    A[{開始}] --> B{条件分岐}
    B -->|条件A| C[{処理A}]
    B -->|条件B| D[{処理B}]
    C --> E[{終了}]
    D --> E
```

---

## エラーハンドリング

| エラー種別 | 発生条件 | 対処 |
|-----------|---------|------|
| `{エラー名}` | {条件} | {対処方法} |

---

## ユースケース対応

| ユースケース | 実装箇所 | 備考 |
|------------|---------|------|
| {操作名} | `{関数名}()`（`{ファイルパス}`） | {備考} |

---

## テスト

### テストファイル

| ファイル | テスト数 | 対象 |
|----------|----------|------|
| `{test_file_path}` | {N}個 | {何をテストしているか} |

### 重要なテストケース

**正常系**（`{test_name}`）:
- {何を検証しているか}

**異常系**（`{test_name}`）:
- {何を検証しているか}

**境界値**（`{test_name}`）:
- {何を検証しているか}

---

## 制約・スコープ境界

**対応範囲**:
- {現在の設計でカバーする機能1}
- {現在の設計でカバーする機能2}

**スコープ外**:
- {現在の設計では対応しない事項1}
- {現在の設計では対応しない事項2}

---

## 設計判断

<!--
ADR形式: decisions/ 種別で使用する。
他の種別では、重要な設計判断がある場合のみ任意で記載する。
-->

### 決定内容

{何を決定したか}

### 理由

{なぜその判断をしたか}

### 代替案

| 案 | 概要 | 不採用理由 |
|----|------|-----------|
| {代替案A} | {概要} | {不採用理由} |

### トレードオフ

- **利点**: {採用案の利点}
- **欠点**: {採用案の欠点・受容するリスク}

---

## 関連ドキュメント

- [{関連ドキュメント名}]({相対パス})
