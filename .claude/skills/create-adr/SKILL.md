---
name: create-adr
description: アーキテクチャ決定記録（ADR）を新規作成する。技術選定やアーキテクチャ判断を記録する際に使用。引数に判断テーマを指定。
allowed-tools: Read, Write, Glob, AskUserQuestion
---

# ADR（アーキテクチャ決定記録）作成

`docs/design/decisions/` に新しいADRを追加する。

## 手順

1. `docs/design/decisions/` を Glob し、既存の最大番号を取得する
2. 次の番号（3桁ゼロ埋め）でファイルを作成する
3. 引数のテーマに基づき、AskUserQuestion で選択肢と判断理由を確認する
4. 以下の形式で ADR を作成する

## ADR 形式

```markdown
<!--
種別: decisions
対象: {判断テーマ}
作成日: {YYYY-MM-DD}
更新日: {YYYY-MM-DD}
担当: AIエージェント
-->

# {タイトル}

## 概要
{1-2文で何を決定するか}

## 設計判断

### 判断N: {カテゴリ} — {選択した技術/方針}

**問題**: {何を決定する必要があるか}

**選択肢**:
1. {選択肢1}
2. {選択肢2}
3. {選択肢3}

**決定**: {選択した選択肢}

**理由**:
- {理由1}
- {理由2}

**トレードオフ**:
- **利点**: {メリット}
- **欠点**: {デメリット・受容するリスク}

## 関連ドキュメント
- [{関連ADR}](./NNN-title.md)
- [初期仕様書](../../archive/initial_plan.md)
```

## 命名規則

`{3桁番号}-{kebab-case}.md` （例: `003-data-model.md`）

## 注意

- 1つのADRに複数の関連する判断を含めてよい（例: 技術スタックADRに言語・フレームワーク・DBの判断を集約）
- 代替案は必ず記載する（なぜ不採用かを明記）
- 実装ステータスは記載しない
